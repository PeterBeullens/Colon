<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Voor/Na – Interieur slider met fotokeuze</title>
  <style>
    *,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
    body {background:#000}
    img{display:block;max-width:100%;height:auto}
    main{display:grid;place-items:center;gap:0;min-height:10vh;padding:2rem}

    /* Gallery bovenaan */
    .gallery{width:100%;max-width:1200px;display:flex;gap:0.5rem;overflow-x:auto;padding:0.5rem;border-bottom:1px solid #ccc;grid-auto-flow:column;
      grid-auto-columns:max-content;gap:.75rem;overflow-x:auto;padding:.5rem;
      border-radius:.75rem;background:#f5f5f7}
    .thumb{display:grid;grid-template-rows:auto 1fr;gap:.25rem;border:2px solid transparent;
      border-radius:.5rem;background:#fff;padding:.35rem;cursor:pointer;min-width:110px}
    .thumb:focus-visible{outline:3px solid #000;outline-offset:2px}
    .thumb.active{border-color:#2563eb;box-shadow:0 0 0 2px #bfdbfe inset}
    .thumb img{width:100px;height:70px;object-fit:cover;border-radius:.35rem}
    .thumb span{font:600 12px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial;text-align:center}

    /* Sliderblok */
    .container {
      position:relative;
      overflow:hidden;
      border-radius:1rem;
      --position:0%;
      width:100%;
      max-width:1200px}
    .image-container{width:100%;height:auto}
    .slider-image{width:100%;height:100%;object-fit:cover;object-position:left}
    /* VOOR ligt bovenop en bedekt NA, breedte = --position; GEEN grayscale */
    .image-before{position:absolute;inset:0;width:var(--position)}
    .slider{position:absolute;inset:0;cursor:pointer;opacity:0;width:100%;height:100%}
    .slider-line{position:absolute;inset:0;width:.2rem;height:100%;background:#fff;left:var(--position);
      transform:translateX(-50%);pointer-events:none}
    .slider-button{position:absolute;background:#fff;color:#000;padding:.5rem;border-radius:999px;display:grid;
      place-items:center;top:50%;left:var(--position);transform:translate(-50%,-50%);pointer-events:none;
      box-shadow:1px 1px 1px hsl(0 0% 2%/.5)}
  </style>
</head>
<body>
  <main>
    <!-- KIES-FOTO’S -->
    <nav class="gallery" aria-label="Kies een fotoset" id="gallery">
      <!-- Voorbeeldsets: pas data-after / data-before aan -->
      <button class="thumb" type="button"
              data-after="Hal1.png" data-before="Hal2.jpeg" aria-pressed="false">
        <img src="Hal2.jpeg" alt="Inkomhal – voor" />
        <span>Entrada</span>
      </button>

      <button class="thumb" type="button"
              data-after="Trap1.png" data-before="Trap2.jpeg" aria-pressed="false">
        <img src="Trap2.jpeg" alt="Traphal – voor" />
        <span>Escaleras</span>
      </button>
      
      <button class="thumb active" type="button"
              data-after="Bar1.png" data-before="Bar2.jpg" aria-pressed="true">
        <img src="Bar2.jpg" alt="Wijnbar – voor" />
        <span>Bar</span>
      </button>

      <button class="thumb" type="button"
              data-after="Ontbijt1.png" data-before="Ontbijt2.jpg" aria-pressed="false">
        <img src="Ontbijt2.jpg" alt="Ontbijtruimte – voor" />
        <span>Desayuno</span>
      </button>

      <button class="thumb" type="button"
              data-after="Overloop1.png" data-before="Overloop2.jpg" aria-pressed="false">
        <img src="Overloop2.jpg" alt="Overloop – voor" />
        <span>Pasillo</span>
      </button>

      <button class="thumb active" type="button"
              data-after="Room1.png" data-before="Room2.jpeg" aria-pressed="true">
        <img src="Room2.jpeg" alt="Kamer – voor" />
        <span>Habitacion</span>
      </button>

      <button class="thumb active" type="button"
              data-after="Appartement1.png" data-before="Appartement2.jpeg" aria-pressed="true">
        <img src="Appartement2.jpeg" alt="Kamer – voor" />
        <span>Appartamento</span>
      </button>

      <button class="thumb active" type="button"
              data-after="Welness1.png" data-before="Welness2.jpeg" aria-pressed="true">
        <img src="Welness2.jpeg" alt="Welness – voor" />
        <span>Welness</span>
      </button>

      <button class="thumb active" type="button"
              data-after="Berging1.png" data-before="Berging2.jpeg" aria-pressed="true">
        <img src="Berging2.jpeg" alt="Fietsenberging – voor" />
        <span>Bici's</span>
      </button>

      <button class="thumb active" type="button"
              data-after="Restaurant (Na).png" data-before="Restaurant (Voor).jpeg" aria-pressed="true">
        <img src="Restaurant (Voor).jpeg" alt="Restaurant – voor" />
        <span>Restaurant</span>
      </button>
      <!-- Voeg gerust meer knoppen toe met data-after / data-before -->
    </nav>
    <br>

    <!-- VOOR/NA SLIDER -->
    <div class="container" id="sliderContainer" style="--position:0%;">
      <div class="image-container">
        <!-- eerst NA (onder), dan VOOR (boven) -->
        <img class="image-after slider-image" id="imgBefore" src="Foto2.jpg" alt="Na" />
        <img class="image-before slider-image" id="imgAfter" src="Foto1.png" alt="Voor" />
      </div>

      <input id="range" type="range" min="0" max="100" value="0"
             aria-label="Percentage van de voor-foto" class="slider" />
      <div class="slider-line" aria-hidden="true"></div>
      <div class="slider-button" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
             viewBox="0 0 256 256" aria-hidden="true">
          <line x1="128" y1="40"  x2="128" y2="216" stroke="currentColor" stroke-linecap="round" stroke-width="16"/>
          <line x1="96"  y1="128" x2="16"  y2="128" stroke="currentColor" stroke-linecap="round" stroke-width="16"/>
          <polyline points="48 160 16 128 48 96"  fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="16"/>
          <line x1="160" y1="128" x2="240" y2="128" stroke="currentColor" stroke-linecap="round" stroke-width="16"/>
          <polyline points="208 96 240 128 208 160" fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="16"/>
        </svg>
      </div>
    </div>
  </main>

  <script>
    const container = document.getElementById('sliderContainer');
    const slider    = document.getElementById('range');
    const imgAfter = document.getElementById('imgAfter');
    const imgBefore  = document.getElementById('imgBefore');
    const gallery   = document.getElementById('gallery');

    function setPosition(pct){ container.style.setProperty('--position', pct + '%'); slider.value = pct; }

    // Slider bediening
    slider.addEventListener('input', (e) => setPosition(e.target.value));

    // Delegatie: klik op eender welk element binnen .gallery dat .thumb is
    gallery.addEventListener('click', (e) => {
      const btn = e.target.closest('.thumb');
      if(!btn) return;

      // Active styling
      gallery.querySelectorAll('.thumb').forEach(b => { b.classList.remove('active'); b.setAttribute('aria-pressed','false'); });
      btn.classList.add('active'); btn.setAttribute('aria-pressed','true');

      // Bronbestanden uit data-attributen
      const beforeSrc = btn.dataset.before;
      const afterSrc  = btn.dataset.after;

      // Cache-buster om te forceren dat de browser echt ververst
      const v = Date.now();
      imgAfter.src = afterSrc + '?v=' + v;
      imgBefore.src  = beforeSrc  + '?v=' + v;

      // Start altijd links
      setPosition(0);
    });
  </script>
</body>
</html>
